(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97309f56"],{"0cb2":function(t,e,n){var o=n("7b0b"),i=Math.floor,r="".replace,a=/\$([$&'`]|\d\d?|<[^>]*>)/g,c=/\$([$&'`]|\d\d?)/g;t.exports=function(t,e,n,s,l,d){var u=n+t.length,f=s.length,h=c;return void 0!==l&&(l=o(l),h=a),r.call(d,h,(function(o,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(u);case"<":a=l[r.slice(1,-1)];break;default:var c=+r;if(0===c)return o;if(c>f){var d=i(c/10);return 0===d?o:d<=f?void 0===s[d-1]?r.charAt(1):s[d-1]+r.charAt(1):o}a=s[c-1]}return void 0===a?"":a}))}},"14c3":function(t,e,n){var o=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,n){var o=n("da84"),i=n("fdbc"),r=n("17c2"),a=n("9112");for(var c in i){var s=o[c],l=s&&s.prototype;if(l&&l.forEach!==r)try{a(l,"forEach",r)}catch(d){l.forEach=r}}},"17c2":function(t,e,n){"use strict";var o=n("b727").forEach,i=n("a640"),r=n("ae40"),a=i("forEach"),c=r("forEach");t.exports=a&&c?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"1b00":function(t,e,n){"use strict";n("3698")},"1e7c":function(t,e,n){"use strict";n("9f2e")},3698:function(t,e,n){},"3e4f":function(t,e,n){"use strict";n("e56b")},4160:function(t,e,n){"use strict";var o=n("23e7"),i=n("17c2");o({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"466d":function(t,e,n){"use strict";var o=n("d784"),i=n("825a"),r=n("50c4"),a=n("1d80"),c=n("8aa5"),s=n("14c3");o("match",1,(function(t,e,n){return[function(e){var n=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var a=i(t),l=String(this);if(!a.global)return s(a,l);var d=a.unicode;a.lastIndex=0;var u,f=[],h=0;while(null!==(u=s(a,l))){var b=String(u[0]);f[h]=b,""===b&&(a.lastIndex=c(l,r(a.lastIndex),d)),h++}return 0===h?null:f}]}))},5319:function(t,e,n){"use strict";var o=n("d784"),i=n("825a"),r=n("50c4"),a=n("a691"),c=n("1d80"),s=n("8aa5"),l=n("0cb2"),d=n("14c3"),u=Math.max,f=Math.min,h=function(t){return void 0===t?t:String(t)};o("replace",2,(function(t,e,n,o){var b=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=o.REPLACE_KEEPS_$0,p=b?"$":"$0";return[function(n,o){var i=c(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i,o):e.call(String(i),n,o)},function(t,o){if(!b&&v||"string"===typeof o&&-1===o.indexOf(p)){var c=n(e,t,this,o);if(c.done)return c.value}var m=i(t),g=String(this),O="function"===typeof o;O||(o=String(o));var y=m.global;if(y){var j=m.unicode;m.lastIndex=0}var x=[];while(1){var k=d(m,g);if(null===k)break;if(x.push(k),!y)break;var w=String(k[0]);""===w&&(m.lastIndex=s(g,r(m.lastIndex),j))}for(var _="",D=0,I=0;I<x.length;I++){k=x[I];for(var E=String(k[0]),S=u(f(a(k.index),g.length),0),R=[],P=1;P<k.length;P++)R.push(h(k[P]));var C=k.groups;if(O){var B=[E].concat(R,S,g);void 0!==C&&B.push(C);var U=String(o.apply(void 0,B))}else U=l(E,g,S,R,C,o);S>=D&&(_+=g.slice(D,S)+U,D=S+E.length)}return _+g.slice(D)}]}))},6062:function(t,e,n){"use strict";var o=n("6d61"),i=n("6566");t.exports=o("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6566:function(t,e,n){"use strict";var o=n("9bf2").f,i=n("7c73"),r=n("e2cc"),a=n("0366"),c=n("19aa"),s=n("2266"),l=n("7dd0"),d=n("2626"),u=n("83ab"),f=n("f183").fastKey,h=n("69f3"),b=h.set,v=h.getterFor;t.exports={getConstructor:function(t,e,n,l){var d=t((function(t,o){c(t,d,e),b(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),u||(t.size=0),void 0!=o&&s(o,t[l],{that:t,AS_ENTRIES:n})})),h=v(e),p=function(t,e,n){var o,i,r=h(t),a=m(t,e);return a?a.value=n:(r.last=a={index:i=f(e,!0),key:e,value:n,previous:o=r.last,next:void 0,removed:!1},r.first||(r.first=a),o&&(o.next=a),u?r.size++:t.size++,"F"!==i&&(r.index[i]=a)),t},m=function(t,e){var n,o=h(t),i=f(e);if("F"!==i)return o.index[i];for(n=o.first;n;n=n.next)if(n.key==e)return n};return r(d.prototype,{clear:function(){var t=this,e=h(t),n=e.index,o=e.first;while(o)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete n[o.index],o=o.next;e.first=e.last=void 0,u?e.size=0:t.size=0},delete:function(t){var e=this,n=h(e),o=m(e,t);if(o){var i=o.next,r=o.previous;delete n.index[o.index],o.removed=!0,r&&(r.next=i),i&&(i.previous=r),n.first==o&&(n.first=i),n.last==o&&(n.last=r),u?n.size--:e.size--}return!!o},forEach:function(t){var e,n=h(this),o=a(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){o(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),r(d.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return p(this,0===t?0:t,e)}}:{add:function(t){return p(this,t=0===t?0:t,t)}}),u&&o(d.prototype,"size",{get:function(){return h(this).size}}),d},setStrong:function(t,e,n){var o=e+" Iterator",i=v(e),r=v(o);l(t,e,(function(t,e){b(this,{type:o,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),d(e)}}},"6ca3":function(t,e,n){"use strict";n.r(e);n("a4d3"),n("e01a"),n("b0c0");var o=n("7a23"),i=Object(o["I"])("data-v-c25daef6");Object(o["u"])("data-v-c25daef6");var r=Object(o["i"])("h1",{class:"logo"},"White Space Hotel",-1),a={key:0,class:"photo"},c={key:0,class:"photo__dots"},s={key:1,class:"photo__secondary-block"},l={key:1,class:"detail"},d={class:"room"},u={class:"room-info"},f={class:"room-info__title"},h={class:"room-info__list"},b={class:"room-info__desc"},v={class:"room-price"},p=Object(o["i"])("li",null,"平日(一~四)",-1),m=Object(o["i"])("li",null,"假日(五~日)",-1),g={class:"room-time"},O=Object(o["i"])("p",null,"Check In",-1),y=Object(o["i"])("p",null,"Check Out",-1),j={class:"room-amenities"},x={class:"reservation"},k={class:"reservation__date-picker"},w={class:"reservation__buttons"};Object(o["s"])();var _=i((function(t,e,n,_,D,I){var E=Object(o["z"])("router-link"),S=Object(o["z"])("DatePicker"),R=Object(o["z"])("Lightbox"),P=Object(o["z"])("Booking"),C=Object(o["z"])("Loading");return Object(o["r"])(),Object(o["e"])(o["a"],null,[Object(o["i"])(E,{to:"/"},{default:i((function(){return[r]})),_:1}),D.room.imageUrl?(Object(o["r"])(),Object(o["e"])("div",a,[Object(o["i"])("div",{class:"photo__img photo__primary",style:{"background-image":"url(".concat(I.primaryPhoto,")")},onClick:e[1]||(e[1]=function(t){return I.showLightbox(!0,0)})},null,4),D.dots.display?(Object(o["r"])(),Object(o["e"])("ul",c,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(D.room.imageUrl,(function(t,e){return Object(o["r"])(),Object(o["e"])("li",{key:"img".concat(e),class:{"photo__dots--selected":t===D.dots.nowUrl},onClick:function(n){return I.changeImage(t,e)}},null,10,["onClick"])})),128))])):(Object(o["r"])(),Object(o["e"])("div",s,[Object(o["i"])("div",{class:"photo__img photo__secondary",style:{"background-image":"url(".concat(D.room.imageUrl[1],")")},onClick:e[2]||(e[2]=function(t){return I.showLightbox(!0,1)})},null,4),Object(o["i"])("div",{class:"photo__img photo__secondary",style:{"background-image":"url(".concat(D.room.imageUrl[2],")")},onClick:e[3]||(e[3]=function(t){return I.showLightbox(!0,2)})},null,4)]))])):Object(o["f"])("",!0),D.room.name?(Object(o["r"])(),Object(o["e"])("div",l,[Object(o["i"])("div",d,[Object(o["i"])("div",u,[Object(o["i"])("div",f,Object(o["B"])(D.room.name),1),Object(o["i"])("ul",h,[Object(o["i"])("li",null,"房客人數限制： "+Object(o["B"])(D.room.descriptionShort.GuestMin)+"~"+Object(o["B"])(D.room.descriptionShort.GuestMax)+" 人",1),Object(o["i"])("li",null,"床型："+Object(o["B"])(I.bedType),1),Object(o["i"])("li",null,"衛浴數量： "+Object(o["B"])(D.room.descriptionShort["Private-Bath"])+" 間",1),Object(o["i"])("li",null,"房間大小： "+Object(o["B"])(D.room.descriptionShort.Footage)+" 平方公尺",1)]),Object(o["i"])("div",b,Object(o["B"])(D.room.description),1)]),Object(o["i"])("ul",v,[Object(o["i"])("li",null,"NT."+Object(o["B"])(D.room.normalDayPrice),1),p,Object(o["i"])("li",null,"NT."+Object(o["B"])(D.room.holidayPrice),1),m]),Object(o["i"])("div",g,[Object(o["i"])("div",null,[O,Object(o["i"])("p",null,Object(o["B"])(D.room.checkInAndOut.checkInEarly)+" - "+Object(o["B"])(D.room.checkInAndOut.checkInLate),1)]),Object(o["i"])("div",null,[y,Object(o["i"])("p",null,Object(o["B"])(D.room.checkInAndOut.checkOut),1)])]),Object(o["i"])("ul",j,[Object(o["i"])("li",{class:["wifi",{"not-provide":!D.room.amenities["Wi-Fi"]}]},"Wi-Fi",2),Object(o["i"])("li",{class:["television",{"not-provide":!D.room.amenities.Television}]},"電視",2),Object(o["i"])("li",{class:["view",{"not-provide":!D.room.amenities["Great-View"]}]},"漂亮的視野",2),Object(o["i"])("li",{class:["breakfast",{"not-provide":!D.room.amenities.Breakfast}]},"早餐",2),Object(o["i"])("li",{class:["airConditioner",{"not-provide":!D.room.amenities["Air-Conditioner"]}]},"空調",2),Object(o["i"])("li",{class:["smoke",{"not-provide":!D.room.amenities["Smoke-Free"]}]},"禁止吸煙",2),Object(o["i"])("li",{class:["bar",{"not-provide":!D.room.amenities["Mini-Bar"]}]},"Mini Bar",2),Object(o["i"])("li",{class:["refrigerator",{"not-provide":!D.room.amenities.Refrigerator}]},"冰箱",2),Object(o["i"])("li",{class:["child",{"not-provide":!D.room.amenities["Child-Friendly"]}]},"適合兒童",2),Object(o["i"])("li",{class:["roomService",{"not-provide":!D.room.amenities["Room-Service"]}]},"Room Service",2),Object(o["i"])("li",{class:["sofa",{"not-provide":!D.room.amenities.Sofa}]},"沙發",2),Object(o["i"])("li",{class:["dog",{"not-provide":!D.room.amenities["Pet-Friendly"]}]},"寵物攜帶",2)])]),Object(o["i"])("div",x,[Object(o["i"])("div",k,[Object(o["i"])(S,{markDates:D.bookedDates,onGetSelectedDate:I.getSelectedDate,ref:"DatePicker"},null,8,["markDates","onGetSelectedDate"])]),Object(o["i"])("div",w,[Object(o["i"])("button",{class:"reservation__check",onClick:e[4]||(e[4]=function(t){return I.checkSelectedDate()})},"預約時段"),Object(o["i"])("button",{class:"reservation__delete",onClick:e[5]||(e[5]=function(t){return I.deleteAllReservation()})},"取消所有預約")])])])):Object(o["f"])("",!0),Object(o["i"])(R,{info:D.lightboxInfo,onClose:e[6]||(e[6]=function(t){return I.showLightbox(!1)})},null,8,["info"]),Object(o["i"])(P,{info:D.bookingInfo,onClose:e[7]||(e[7]=function(t){return I.showBooking(!1)}),onReservationRoom:I.reservationRoom},null,8,["info","onReservationRoom"]),Object(o["i"])(C,{display:D.loadingDisplay},null,8,["display"])],64)}));n("4160"),n("159b");function D(t){if(Array.isArray(t))return t}n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function I(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0)if(n.push(a.value),e&&n.length===e)break}catch(s){i=!0,r=s}finally{try{o||null==c["return"]||c["return"]()}finally{if(i)throw r}}return n}}var E=n("06c5");function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(t,e){return D(t)||I(t,e)||Object(E["a"])(t,e)||S()}var P={id:"datepicker__block"},C=Object(o["i"])("div",{id:"datepicker"},null,-1),B=Object(o["i"])("p",{class:"datepicker__desc"},[Object(o["i"])("span",null," "),Object(o["h"])("代表已被預訂，請選擇別的日期")],-1);function U(t,e,n,i,r,a){return Object(o["r"])(),Object(o["e"])("div",P,[C,B])}n("99af"),n("a630"),n("6062");var T={name:"DatePicker",props:{markDates:{type:Object,default:function(){}}},data:function(){return{laydate:window.laydate,laydateStart:"",laydateEnd:"",nowSelected:""}},methods:{initDatePicker:function(){document.querySelector("#datepicker").remove();var t=document.createElement("div");t.id="datepicker",document.querySelector("#datepicker__block").prepend(t);var e=this;this.laydate.render({elem:"#datepicker",isInitValue:!1,min:this.minDate(),max:this.maxDate(),showBottom:!1,theme:"datepicker-default",mark:this.markDates,range:!0,position:"static",ready:function(){e.changeTitle((new Date).getFullYear(),(new Date).getMonth()+1),e.changeMonth(),e.tdClick()},change:function(t,n,o){e.changeDate(n),e.laydateStart="".concat(n.year,"-").concat(n.month,"-").concat(n.date),e.laydateEnd="".concat(o.year,"-").concat(o.month,"-").concat(o.date)}})},minDate:function(){var t=(new Date).setDate((new Date).getDate()+1),e=new Date(t).toISOString().substr(0,10);return e},maxDate:function(){var t=(new Date).setDate((new Date).getDate()+90),e=new Date(t).toISOString().substr(0,10);return e},changeDate:function(t){this.changeTitle(t.year,t.month)},changeTitle:function(t,e){var n=document.querySelector("#datepicker .laydate-set-ym");n.children[0].textContent="".concat(t," / "),n.children[1].textContent=e},changeMonth:function(){var t=this;document.querySelectorAll(".laydate-prev-m").forEach((function(e){e.addEventListener("click",(function(){var e=document.querySelector("#datepicker .laydate-set-ym").children,n=e[0].textContent.substr(0,4),o=e[1].textContent.substr(0,e[1].textContent.length-1);t.changeTitle(n,o)}))})),document.querySelectorAll(".laydate-next-m").forEach((function(e){e.addEventListener("click",(function(){var e=document.querySelector("#datepicker .laydate-set-ym").children,n=e[0].textContent.substr(0,4),o=e[1].textContent.substr(0,e[1].textContent.length-1);t.changeTitle(n,o)}))}))},getSelectedDate:function(){this.laydateStart||(this.laydateStart=this.nowSelected),this.laydateEnd||(this.laydateEnd=this.nowSelected),this.nowSelected!==this.laydateStart&&this.nowSelected!==this.laydateEnd&&(this.laydateStart=this.nowSelected,this.laydateEnd=this.nowSelected);var t=this.computerDays(this.laydateStart,this.laydateEnd);this.$emit("get-selected-date",t)},computerDays:function(t,e){for(var n=new Date(t).getTime(),o=new Date(e).getTime(),i=864e5,r=0,a=0,c=new Set,s=n;s<=o;s+=i){var l=new Date(s);c.add(this.formatDate(l)),0===l.getDay()||6===l.getDay()?a+=1:r+=1}return c=Array.from(c),{weekday:r,holiday:a,totalDates:c}},formatDate:function(t){var e=t.getFullYear(),n=t.getMonth()+1>9?t.getMonth()+1:"0".concat(t.getMonth()+1),o=t.getDate()>9?t.getDate():"0".concat(t.getDate());return"".concat(e,"-").concat(n,"-").concat(o)},tdClick:function(){var t=this,e=document.querySelectorAll(".reservation__date-picker td");e.forEach((function(e){e.addEventListener("click",(function(){t.nowSelected=e.getAttribute("lay-ymd")}))}))}}};n("3e4f");T.render=U;var A=T,$=Object(o["I"])("data-v-b9427016");Object(o["u"])("data-v-b9427016");var L={class:"lightbox"},M={class:"lightbox__photo"},z={class:"photo__display"},F={class:"photo__desc"},N={class:"photo__desc-name"},q={class:"photo__desc-qty"};Object(o["s"])();var G=$((function(t,e,n,i,r,a){return Object(o["r"])(),Object(o["e"])("div",{class:["semi-transparent",{hide:!n.info.display}]},[Object(o["i"])("div",L,[Object(o["i"])("div",{class:["lightbox__arrow-left",{"lightbox__arrow--disabled":0===r.nowIndex}],onClick:e[1]||(e[1]=Object(o["H"])((function(t){return a.changePhoto(r.nowIndex-1)}),["stop"]))},"<",2),Object(o["i"])("div",M,[Object(o["i"])("div",z,[Object(o["i"])("img",{src:n.info.photo[r.nowIndex],alt:"".concat(n.info.name," Photo")},null,8,["src","alt"])]),Object(o["i"])("div",F,[Object(o["i"])("div",N,Object(o["B"])(n.info.name),1),Object(o["i"])("div",q,Object(o["B"])(r.nowIndex+1)+"/"+Object(o["B"])(n.info.photo.length),1)]),Object(o["i"])("div",{class:"photo__close",onClick:e[2]||(e[2]=Object(o["H"])((function(e){return t.$emit("close")}),["self"]))},"x")]),Object(o["i"])("div",{class:["lightbox__arrow-right",{"lightbox__arrow--disabled":r.nowIndex===n.info.photo.length-1}],onClick:e[3]||(e[3]=Object(o["H"])((function(t){return a.changePhoto(r.nowIndex+1)}),["stop"]))},">",2)])],2)})),W={name:"Lightbox",props:{info:{type:Object,default:function(){}}},data:function(){return{nowIndex:0}},created:function(){this.nowIndex=this.info.photoIndex},methods:{changePhoto:function(t){t>-1&&t<this.info.photo.length&&(this.nowIndex=t)}},watch:{"info.photoIndex":function(t){this.nowIndex=t}}};n("1b00");W.render=G,W.__scopeId="data-v-b9427016";var K=W,H=Object(o["I"])("data-v-5e1f37ed");Object(o["u"])("data-v-5e1f37ed");var Q={class:"booking"},V=Object(o["i"])("div",{class:"booking__title"},"預約時段",-1),Y={class:"booking-form"},J={class:"booking-form__row"},X=Object(o["i"])("label",null,"姓名",-1),Z={class:"booking-form__row"},tt=Object(o["i"])("label",null,"電話",-1),et={class:"booking-form__row"},nt=Object(o["i"])("label",null,"預約起迄",-1),ot={class:"booking-form__period"},it=Object(o["i"])("span",null,"~",-1),rt={class:"booking-form__nights"},at={class:"booking-form__row"},ct=Object(o["i"])("span",null,"平日時段",-1),st={class:"booking-form__row"},lt=Object(o["i"])("span",null,"假日時段",-1),dt={class:"booking-form__price"},ut={class:"booking-form__buttons"};Object(o["s"])();var ft=H((function(t,e,n,i,r,a){return Object(o["r"])(),Object(o["e"])("div",{class:["semi-transparent",{hide:!n.info.display}]},[Object(o["i"])("div",Q,[V,Object(o["i"])("form",Y,[Object(o["i"])("div",J,[X,Object(o["G"])(Object(o["i"])("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.name=t})},null,512),[[o["D"],r.name]]),Object(o["i"])("p",null,Object(o["B"])(r.errorMsg.name),1)]),Object(o["i"])("div",Z,[tt,Object(o["G"])(Object(o["i"])("input",{type:"phone","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.phone=t})},null,512),[[o["D"],r.phone]]),Object(o["i"])("p",null,Object(o["B"])(r.errorMsg.phone),1)]),Object(o["i"])("div",et,[nt,Object(o["i"])("div",ot,[Object(o["i"])("input",{disabled:"",value:a.formatDate(n.info.startDate)},null,8,["value"]),it,Object(o["i"])("input",{disabled:"",value:a.formatDate(n.info.endDate)},null,8,["value"])])]),Object(o["i"])("div",rt,[Object(o["i"])("div",at,[ct,Object(o["i"])("span",null,Object(o["B"])(n.info.weekday)+"夜",1)]),Object(o["i"])("div",st,[lt,Object(o["i"])("span",null,Object(o["B"])(n.info.holiday)+"夜",1)])]),Object(o["i"])("div",dt,"=    NT."+Object(o["B"])(a.totalPrice),1),Object(o["i"])("div",ut,[Object(o["i"])("input",{type:"button",value:"取消",onClick:e[3]||(e[3]=function(e){return t.$emit("close")})}),Object(o["i"])("input",{type:"submit",value:"確定預約",disabled:!a.checkUserInfo(),onClick:e[4]||(e[4]=Object(o["H"])((function(t){return a.reservation()}),["prevent"]))},null,8,["disabled"])])])])],2)})),ht=(n("ac1f"),n("466d"),n("5319"),{nema:"Booking",components:{DatePicker:A},props:{info:{type:Object,default:function(){}}},data:function(){return{name:"",phone:"",errorMsg:{name:"",phone:""}}},created:function(){this.checkUserInfo()},methods:{formatDate:function(t){return t?t.replace(/-0?/g,"/"):""},checkUserInfo:function(){var t=this.checkUserName(),e=this.checkUserPhone();return t&&e},checkUserName:function(){if(!this.name)return this.errorMsg.name="請輸入中文或英文姓名",!1;var t=/^[\u4e00-\u9fa5a-zA-Z]+$/g,e=this.name.match(t);return e.length>0?this.errorMsg.name="":this.errorMsg.name="請輸入中文或英文姓名",e.length>0},checkUserPhone:function(){if(!this.phone)return this.errorMsg.phone="請輸入手機或市話",!1;var t=/(\d{2,3}-?|\(\d{2,3}\))\d{3,4}-?\d{4}|09\d{2}(\d{6}|-\d{3}-?\d{3})/g,e=this.phone.match(t)||[];return e.length>0?this.errorMsg.phone="":this.errorMsg.phone="手機或市話格式錯誤",e.length>0},reservation:function(){this.checkUserInfo()&&this.$emit("reservation-room",{name:this.name,tel:this.phone})}},computed:{totalPrice:function(){var t=this.info.weekday*this.info.weekdayPrice,e=this.info.holiday*this.info.holidayPrice;return t+e}}});n("b9df");ht.render=ft,ht.__scopeId="data-v-5e1f37ed";var bt=ht,vt=Object(o["I"])("data-v-a7fd4180");Object(o["u"])("data-v-a7fd4180");var pt=Object(o["i"])("ul",{class:"circle"},[Object(o["i"])("li"),Object(o["i"])("li"),Object(o["i"])("li"),Object(o["i"])("li"),Object(o["i"])("li")],-1);Object(o["s"])();var mt=vt((function(t,e,n,i,r,a){return Object(o["r"])(),Object(o["e"])("div",{class:["semi-transparent",{hide:!n.display}]},[pt],2)})),gt={name:"Loading",props:{display:{type:Boolean,default:!1}}};n("c2cc");gt.render=mt,gt.__scopeId="data-v-a7fd4180";var Ot=gt,yt={name:"RoomDetail",components:{DatePicker:A,Lightbox:K,Booking:bt,Loading:Ot},data:function(){return{roomId:"",room:{},bookedInfo:[],bookedDates:[],totalDates:[],lightboxInfo:{name:"",photo:[],photoIndex:0,display:!1},bookingInfo:{display:!1,weekday:0,holiday:0,weekdayPrice:0,holidayPrice:0,startDate:"",endDate:""},loadingDisplay:!1,dots:{display:!1,nowUrl:"",nowIndex:0}}},created:function(){this.layoutWidth(),this.showLoading(!0),this.roomId=sessionStorage.getItem("roomId"),this.getRoomDetail()},methods:{getRoomDetail:function(){var t=this;this.$axios({method:"get",url:"room/".concat(this.roomId)}).then((function(e){if(t.showLoading(!1),e.data.success){var n=R(e.data.room,1);t.room=n[0],t.bookedInfo=e.data.booking,t.bookedDates={},t.bookedInfo.forEach((function(e){t.bookedDates[e.date]=""}))}t.$nextTick((function(){t.$refs.DatePicker.initDatePicker()}))})).catch((function(e){var n="系統異常，請重新整理頁面後再試";e.response.data.message&&(n=e.response.data.message),t.$modal.open({title:"系統異常",msg:n,btnText:"關閉"})}))},getSelectedDate:function(t){var e=t.weekday,n=t.holiday,o=t.totalDates;this.bookingInfo.weekday=e,this.bookingInfo.holiday=n,this.bookingInfo.weekdayPrice=this.room.normalDayPrice,this.bookingInfo.holidayPrice=this.room.holidayPrice;var i=R(o,1);this.bookingInfo.startDate=i[0],this.bookingInfo.endDate=o[o.length-1],this.totalDates=o},checkSelectedDate:function(){this.$refs.DatePicker.getSelectedDate(),this.totalDates.length>0?this.showBooking(!0):this.$modal.open({title:"提示訊息",msg:"請選擇預約起迄日期",btnText:"關閉"})},reservationRoom:function(t){var e=this,n=t.name,o=t.tel;this.showBooking(!1),this.showLoading(!0),this.$axios({method:"post",url:"room/".concat(this.roomId),params:{name:n,tel:o,date:this.totalDates}}).then((function(t){t.data.success&&(e.getRoomDetail(),e.$modal.open({title:"預約成功",msg:"",btnText:"回頁面"}))})).catch((function(t){e.getRoomDetail();var n="系統異常，請稍後再試";t.response.data.message&&(n=t.response.data.message),e.$modal.open({title:"預約失敗",msg:n,btnText:"返回"})}))},deleteAllReservation:function(){var t=this;this.$axios({method:"delete",url:"rooms"}).then((function(e){e.data.success&&t.getRoomDetail()})).catch((function(){t.getRoomDetail()}))},showLightbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.lightboxInfo.name=this.room.name,this.lightboxInfo.photo=this.room.imageUrl,this.dots.display?this.lightboxInfo.photoIndex=this.dots.nowIndex:this.lightboxInfo.photoIndex=e,this.lightboxInfo.display=t},showBooking:function(t){this.bookingInfo.display=t},showLoading:function(t){this.loadingDisplay=t},layoutWidth:function(){var t=this;window.innerWidth<=768?this.dots.display=!0:this.dots.display=!1,window.addEventListener("resize",(function(){window.innerWidth<=768?t.dots.display=!0:t.dots.display=!1}))},changeImage:function(t,e){this.dots.display&&(this.dots.nowUrl=t,this.dots.nowIndex=e)}},computed:{primaryPhoto:function(){if(this.dots.display){if(!this.dots.nowUrl){var t=R(this.room.imageUrl,1);this.dots.nowUrl=t[0]}return this.dots.nowUrl}return this.room.imageUrl[0]},bedType:function(){var t=this.room.descriptionShort.Bed||[],e="1 張";switch(t.length>1&&(e="".concat(t.length," 張")),t[0]){case"Single":return"".concat(e,"單人床");case"Small Double":return"".concat(e,"小型雙人床");case"Double":return"".concat(e,"雙人床");case"Queen":return"".concat(e,"加大雙人床");default:return"".concat(e,"床")}}}};n("1e7c");yt.render=_,yt.__scopeId="data-v-c25daef6";e["default"]=yt},"6d61":function(t,e,n){"use strict";var o=n("23e7"),i=n("da84"),r=n("94ca"),a=n("6eeb"),c=n("f183"),s=n("2266"),l=n("19aa"),d=n("861d"),u=n("d039"),f=n("1c7e"),h=n("d44e"),b=n("7156");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),p=-1!==t.indexOf("Weak"),m=v?"set":"add",g=i[t],O=g&&g.prototype,y=g,j={},x=function(t){var e=O[t];a(O,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(p&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return p&&!d(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(p&&!d(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(r(t,"function"!=typeof g||!(p||O.forEach&&!u((function(){(new g).entries().next()})))))y=n.getConstructor(e,t,v,m),c.REQUIRED=!0;else if(r(t,!0)){var k=new y,w=k[m](p?{}:-0,1)!=k,_=u((function(){k.has(1)})),D=f((function(t){new g(t)})),I=!p&&u((function(){var t=new g,e=5;while(e--)t[m](e,e);return!t.has(-0)}));D||(y=e((function(e,n){l(e,y,t);var o=b(new g,e,y);return void 0!=n&&s(n,o[m],{that:o,AS_ENTRIES:v}),o})),y.prototype=O,O.constructor=y),(_||I)&&(x("delete"),x("has"),v&&x("get")),(I||w)&&x(m),p&&O.clear&&delete O.clear}return j[t]=y,o({global:!0,forced:y!=g},j),h(y,t),p||n.setStrong(y,t,v),y}},7156:function(t,e,n){var o=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var r,a;return i&&"function"==typeof(r=e.constructor)&&r!==n&&o(a=r.prototype)&&a!==n.prototype&&i(t,a),t}},"81d6":function(t,e,n){},"8aa5":function(t,e,n){"use strict";var o=n("6547").charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},9263:function(t,e,n){"use strict";var o=n("ad6d"),i=n("9f7f"),r=RegExp.prototype.exec,a=String.prototype.replace,c=r,s=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=s||d||l;u&&(c=function(t){var e,n,i,c,u=this,f=l&&u.sticky,h=o.call(u),b=u.source,v=0,p=t;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),p=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(b="(?: "+b+")",p=" "+p,v++),n=new RegExp("^(?:"+b+")",h)),d&&(n=new RegExp("^"+b+"$(?!\\s)",h)),s&&(e=u.lastIndex),i=r.call(f?n:u,p),f?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:s&&i&&(u.lastIndex=u.global?i.index+i[0].length:e),d&&i&&i.length>1&&a.call(i[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i}),t.exports=c},9339:function(t,e,n){},"99af":function(t,e,n){"use strict";var o=n("23e7"),i=n("d039"),r=n("e8b5"),a=n("861d"),c=n("7b0b"),s=n("50c4"),l=n("8418"),d=n("65f0"),u=n("1dde"),f=n("b622"),h=n("2d00"),b=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",m=h>=51||!i((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),g=u("concat"),O=function(t){if(!a(t))return!1;var e=t[b];return void 0!==e?!!e:r(t)},y=!m||!g;o({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,o,i,r,a=c(this),u=d(a,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(r=-1===e?a:arguments[e],O(r)){if(i=s(r.length),f+i>v)throw TypeError(p);for(n=0;n<i;n++,f++)n in r&&l(u,f,r[n])}else{if(f>=v)throw TypeError(p);l(u,f++,r)}return u.length=f,u}})},"9f2e":function(t,e,n){},"9f7f":function(t,e,n){"use strict";var o=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,n){"use strict";var o=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,n){"use strict";var o=n("23e7"),i=n("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},b9df:function(t,e,n){"use strict";n("81d6")},bb2f:function(t,e,n){var o=n("d039");t.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c2cc:function(t,e,n){"use strict";n("9339")},d784:function(t,e,n){"use strict";n("ac1f");var o=n("6eeb"),i=n("d039"),r=n("b622"),a=n("9263"),c=n("9112"),s=r("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=r("replace"),f=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),h=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,u){var b=r(t),v=!i((function(){var e={};return e[b]=function(){return 7},7!=""[t](e)})),p=v&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[b]=/./[b]),n.exec=function(){return e=!0,null},n[b](""),!e}));if(!v||!p||"replace"===t&&(!l||!d||f)||"split"===t&&!h){var m=/./[b],g=n(b,""[t],(function(t,e,n,o,i){return e.exec===a?v&&!i?{done:!0,value:m.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),O=g[0],y=g[1];o(String.prototype,t,O),o(RegExp.prototype,b,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}u&&c(RegExp.prototype[b],"sham",!0)}},e56b:function(t,e,n){},f183:function(t,e,n){var o=n("d012"),i=n("861d"),r=n("5135"),a=n("9bf2").f,c=n("90e3"),s=n("bb2f"),l=c("meta"),d=0,u=Object.isExtensible||function(){return!0},f=function(t){a(t,l,{value:{objectID:"O"+ ++d,weakData:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,l)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[l].objectID},b=function(t,e){if(!r(t,l)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[l].weakData},v=function(t){return s&&p.REQUIRED&&u(t)&&!r(t,l)&&f(t),t},p=t.exports={REQUIRED:!1,fastKey:h,getWeakData:b,onFreeze:v};o[l]=!0}}]);
//# sourceMappingURL=chunk-97309f56.7540f942.js.map